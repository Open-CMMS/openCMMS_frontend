<ng-template #contentDelete let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-delete">Delete Task</h4>
    </div>
    <div class="modal-body">
        <p>Are you sure you want to delete this task ?</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="modal.close('KO')">Cancel</button>
        <button type="button" class="btn btn-danger" (click)="modal.close('OK')">Delete</button>
    </div>
</ng-template>

<div class="container-fluid justify-content-center col-10 mt-3">
    <div class="d-flex justify-content-between align-items-center">
      <h3 class="font-weight-bold">Tasks Management</h3>
      <div class="my-3" *ngIf="onAddTeamPermission()">
        <button class="btn btn-primary" *ngIf="onAddTeamPermission" (click)="onCreateTask()"><fa-icon [icon]="faPlus"></fa-icon> Create new task</button>
      </div>
    </div>
    <div class="d-flex justify-content-between my-1">
      <div></div>
      <div class="d-flex align-items-center">
        <input type="text"
               id="search-text"
               aria-labelledby="search-text"
               [(ngModel)]="searchText"
               autofocus
               placeholder="Search"
               style="
                border-top:0;
                border-left:0;
                border-right:0;
                border-color: #D3D3D3	;
               "
        >
        <fa-icon [icon]="faSearch"></fa-icon>
      </div>
      <div class="dropdown">
        <button class="btn btn-link btn-sort dropdown-toggle"  id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Sort</button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <a class="dropdown-item" (click)="sortingByEndDate()">Date</a>
        </div>
      </div>
    </div>
    <div class="container-fluid col-12" style="padding: 0px;">
        <div class="list-group">
            <ul class="list-group">
                <li
                    class="container-fluid list-group-item font-weight-bold "
                    *ngFor="let task of tasks | appFilter:searchText"
                    >
                    <div class="container-fluid row justify-content-between">
                        <div>
                            <h5 style="margin-bottom: 0px; vertical-align: middle;" (click)="onViewTask(task)">{{ task.name }} <fa-icon class="ml-2" [icon]="faCheck" *ngIf="task.over" style="color: green;"></fa-icon></h5>

                        </div>
                        <div>
                            <button class="btn btn-info" (click)="onViewTask(task)"><fa-icon [icon]="faInfoCircle"></fa-icon></button>
                            <button class="btn btn-danger" (click)="openDelete(contentDelete, task)" *ngIf="onDeleteTaskPermission()"><fa-icon [icon]="faTrash"></fa-icon></button>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
